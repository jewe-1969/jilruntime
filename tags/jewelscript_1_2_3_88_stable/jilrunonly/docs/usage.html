<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<HEAD>
	<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset=windows-1252">
	<TITLE></TITLE>
	<META NAME="GENERATOR" CONTENT="OpenOffice.org 2.0  (Win32)">
	<META NAME="CREATED" CONTENT="20050226;17040300">
	<META NAME="CHANGEDBY" CONTENT="jewe jewe">
	<META NAME="CHANGED" CONTENT="20061217;19522773">
	<STYLE>
	<!--
		@page { size: 21cm 29.7cm; margin: 2cm }
		H1 { margin-bottom: 0.21cm }
		H1.western { font-family: "Arial", sans-serif; font-size: 16pt }
		H1.cjk { font-family: "Lucida Sans Unicode"; font-size: 16pt }
		H1.ctl { font-family: "Tahoma"; font-size: 16pt }
		P { margin-bottom: 0.21cm }
		P.western { font-family: "Arial", sans-serif; font-size: 10pt }
		H5 { margin-bottom: 0.21cm }
		H5.western { font-family: "Arial", sans-serif; font-size: 11pt }
		H5.cjk { font-size: 11pt }
		H5.ctl { font-size: 11pt }
	-->
	</STYLE>
</HEAD>
<BODY LANG="de-DE" DIR="LTR">
<H1 CLASS="western">JILRunOnly usage</H1>
<H5 CLASS="western">What is it?</H5>
<P CLASS="western">The JILRunOnly project is mainly intended to
demonstrate how the JILRuntime / JewelScript library can be embedded
into any program. However, the program is &quot;powerful&quot; enough
to be used as a scripting runtime environment itself - allowing
developers to write scripts that can help simplify tasks, like
converting text or binary files, copy, delete or rename files,
calculate results from any input, and things like that.</P>
<H5 CLASS="western">How to run the program from terminal / command
line</H5>
<P CLASS="western">The basic command-line format looks like this:</P>
<PRE STYLE="margin-bottom: 0.5cm">jilrunonly [options] filename [parameters]</PRE><P CLASS="western">
In this example, <B>filename</B> would represent the filename of any
JewelScript source file that you want to compile and run. Optionally,
you may add additional <B>parameters</B> in the form of text strings
to the program. The program itself will not use these parameters, it
will just create an array out of them and pass this array into the
script's <I>main()</I> function.</P>
<P CLASS="western">Optionally, a list of <B>options</B><SPAN STYLE="font-weight: medium">
can be specified. <SPAN STYLE="text-decoration: none"><SPAN STYLE="font-weight: medium">An
option always starts with a &quot;-&quot; character followed by one
or more characters specifying the option. Some options require an
additional argument. Use spaces to seperate multiple options from
each other. Likewise an argument needs to be seperated from the
option by a space character. The order in which options are
specified, is not important.</SPAN></SPAN></SPAN></P>
<P CLASS="western"><SPAN STYLE="font-weight: medium">Here is an
overview over available options</SPAN>:</P>
<TABLE WIDTH=100% BORDER=0 CELLPADDING=0 CELLSPACING=0>
	<COL WIDTH=23*>
	<COL WIDTH=233*>
	<TR>
		<TD WIDTH=9%>
			<P CLASS="western"><B>-l</B></P>
		</TD>
		<TD WIDTH=91%>
			<P CLASS="western">Prints out a virtual machine code listing of
			the compiled script file to stdout. This may be useful for
			bug-hunting.</P>
		</TD>
	</TR>
	<TR>
		<TD WIDTH=9%>
			<P CLASS="western"><B>-v</B></P>
		</TD>
		<TD WIDTH=91%>
			<P CLASS="western">Prints out version information about the
			program.</P>
		</TD>
	</TR>
	<TR>
		<TD WIDTH=9%>
			<P CLASS="western"><B>-w</B></P>
		</TD>
		<TD WIDTH=91%>
			<P CLASS="western">Wait for the user to press the enter key after
			the script has been executed. This is useful when running the
			program from the desktop environment.</P>
		</TD>
	</TR>
	<TR>
		<TD WIDTH=9%>
			<P CLASS="western"><B>-x</B></P>
		</TD>
		<TD WIDTH=91%>
			<P CLASS="western">Exit the program <U>without</U> running the
			compiled script<SPAN STYLE="text-decoration: none">. This is
			useful in combination with <B>-l</B> or <B>-v</B>.</SPAN></P>
		</TD>
	</TR>
	<TR>
		<TD WIDTH=9%>
			<P CLASS="western"><B>-e</B><SPAN STYLE="font-weight: medium">
			string</SPAN></P>
		</TD>
		<TD WIDTH=91%>
			<P CLASS="western">Specifies the file extension to be used for
			script files. This will also affect any files imported by the
			specified script. A string specifiying the extension must follow
			the option. The string must not contain the &quot;.&quot; (dot)
			character.</P>
			<P CLASS="western">Example: <FONT FACE="Courier New, monospace">jilrunonly
			-e command main.command</FONT></P>
		</TD>
	</TR>
	<TR>
		<TD WIDTH=9%>
			<P CLASS="western"><B>-o</B><SPAN STYLE="font-weight: medium">
			&quot;string&quot;</SPAN></P>
		</TD>
		<TD WIDTH=91%>
			<P CLASS="western">Specifies additional compiler options to use. A
			string enclosed in double quotes specifying the compiler options
			must follow the option.</P>
			<P CLASS="western">Example: <FONT FACE="Courier New, monospace">jilrunonly
			-o &quot;optimize=3, stack-locals=yes&quot; main.jc</FONT></P>
		</TD>
	</TR>
	<TR>
		<TD WIDTH=9%>
			<P CLASS="western"><B>-wb</B><SPAN STYLE="font-weight: medium">
			file</SPAN></P>
		</TD>
		<TD WIDTH=91%>
			<P CLASS="western">Saves the compiled JewelScript program as a
			binary file. A string specifying the file name must follow the
			option.</P>
			<P CLASS="western">Example: <FONT FACE="Courier New, monospace">jilrunonly
			-wb main.bin main.jc</FONT></P>
		</TD>
	</TR>
	<TR>
		<TD WIDTH=9%>
			<P CLASS="western"><B>-rb</B></P>
		</TD>
		<TD WIDTH=91%>
			<P CLASS="western">Specifies that <B>filename</B> should be read
			as a binary JewelScript program rather than a script source file.
			This can be used to execute an already compiled and saved binary
			JewelScript program.</P>
			<P CLASS="western">Exampe: <FONT FACE="Courier New, monospace">jilrunonly
			-rb main.bin</FONT></P>
		</TD>
	</TR>
</TABLE>
<P CLASS="western" STYLE="font-weight: medium; text-decoration: none">
<BR><BR>
</P>
<P CLASS="western" STYLE="font-weight: medium; text-decoration: none">
Here is an example specifying multiple options:</P>
<P CLASS="western" STYLE="font-weight: medium; text-decoration: none">
<FONT FACE="Courier New, monospace">jilrunonly -v -l -o &quot;verbose=yes&quot;
-wb main.bin -x main.jc</FONT></P>
<P CLASS="western">This will print out version information, compile
the script &quot;main.jc&quot; with verbose compiler output, list the
generated byte-code, save the generated byte-code as a binary file
&quot;main.bin&quot; and exit without executing the byte-code.</P>
<H5 CLASS="western">How to run the program from the desktop
environment</H5>
<P CLASS="western">(Currently this has only been tested under
Windows, however, it should work the same or similar with other
OSes.)</P>
<P CLASS="western">You have two options how to start a script with
parameters using the program:</P>
<P CLASS="western">1. You can select multiple files in your file
browser, including the script file you want to compile and run, and
drag these files onto the icon of the program. The order in which you
select the files shouldn't matter, since the program will use the
script file's extension &quot;.jc&quot; to identify which of the
passed files is the script that should be compiled and executed. All
additional files will then be passed to this script file.</P>
<P CLASS="western">2. You can put this program into a folder and
create a shortcut for it on the desktop. Additionally you put the
script file to run next to the program into the folder, and call it
&quot;default.jc&quot;. If you now drag multiple files onto the
shortcut on your desktop, the program will load and execute
&quot;default.jc&quot; and pass all files to that script. (This will
be only done if no script file is passed as a parameter to the
program.)</P>
<P CLASS="western"><B>Tip:</B> If you create a shortcut to the
program on your desktop, you can edit the shortcut's command-line
parameters and add the <B>-w</B> option. This will allow you to read
any script output to the console after dragging a script file onto
the shortcut.</P>
<P CLASS="western"><B>Tip:</B><SPAN STYLE="font-weight: medium">
MacOS X users can directly execute scripts by double clicking the
icon or entering their names at the command prompt, if they use the
&quot;command&quot; extension for script files and add the following
line as the first line in the script file (provided the program has
been copied into the /usr/bin directory):</SPAN></P>
<PRE>#!/usr/bin/jilrunonly -e command</PRE><H5 CLASS="western">
Writing scripts for the program</H5>
<P CLASS="western">Next to this document, you should have received a
document &quot;nativetypes.html&quot;. This document lists all the
&quot;built-in&quot; classes and functions you currently can use.
Apart from them, you can of course implement any amount of new
functions and classes in JewelScript. ;)</P>
<P CLASS="western">In order to work, you must define a main
entry-point function, much like it is in 'C'. The prototype for this
function should look like this:</P>
<PRE><FONT COLOR="#0000ff">function string</FONT> main<FONT COLOR="#ff0000">(</FONT><FONT COLOR="#0000ff">const string</FONT><FONT COLOR="#ff0000">[]</FONT> args<FONT COLOR="#ff0000">)</FONT>;</PRE><P CLASS="western">
The return value will be printed to stdout when the <I>main()</I>
function exits.</P>
<P CLASS="western">In order to see how you can get the arguments from
the given array, you can look into the demo script file &quot;hello.jc&quot;,
which you should have received with this program.</P>
<P CLASS="western"><BR><BR>
</P>
</BODY>
</HTML>